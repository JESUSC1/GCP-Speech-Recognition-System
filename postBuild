#!/bin/bash

# Copy the PortAudio source code to the desired directory
cp pa_stable_v190700_20210406.tar /home/jovyan/

# Extract the contents of the tar file directly into the desired directory
tar -xf /home/jovyan/pa_stable_v190700_20210406.tar -C /home/jovyan/ && \
    rm /home/jovyan/pa_stable_v190700_20210406.tar

# Set the working directory to the root of the repository
cd /home/jovyan/Speech-Recognition-Exercise

# Generate the 'configure' script from 'configure.in'
autoreconf -fiv

# Install necessary build dependencies
apt-get update && \
    apt-get install -y autoconf automake libtool libsndfile1-dev

# Configure and build PortAudio
./configure && \
    make && \
    make install

# Set the working directory back to the home directory
cd /home/jovyan

# Copy the Jupyter notebook to the home directory
cp Speech_Recognition_Exercise.ipynb /home/jovyan/
